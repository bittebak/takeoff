<?xml version="1.0" encoding="UTF-8"?>
<!--
    Document   : rest-api.xml
    Created on : September 25, 2014
    Author     : Marc Geelen
    Description: This documentation is used to configure the service gateway module for takeoff API.
    $Id: $
-->

<gateway  name="takeoff" techContact="MarcG" apiVersion="0.1" logo="resources/dashboard_logo.png">
    <doc>
        <![CDATA[
            <p>
                Takeofff API.
            </p>
        ]]>
    </doc>

    <serviceDomains>
        <domain default="true">
            <name>default</name>
            <doc>Currently the one and only service application</doc>
            <baseServiceUrl>http://localhost:8080/takeoff/rest</baseServiceUrl>
        </domain>
    </serviceDomains>

    <serviceCategories>
        <category>
            <name>idp</name>
            <doc>
                <![CDATA[
                    <p>
                        Identity management.
                    </p>
                ]]>
            </doc>
        </category>
        
         <category>
            <name>general</name>
            <doc>
                <![CDATA[
                    <p>
                        General API services.
                    </p>
                ]]>
            </doc>
        </category>
        
        <category>
            <name>takeoff</name>
            <doc>
                <![CDATA[
                    <p>
                        Takeoff application services.
                    </p>
                ]]>
            </doc>
        </category>
        
        <category>
            <name>admin</name>
            <doc>
                <![CDATA[
                    <p>
                        Takeoff admin services.
                    </p>
                ]]>
            </doc>
        </category>
        
        
    </serviceCategories>
    <identityManagement>
        <loginModule>
            <serviceUrl>/idp/authenticate</serviceUrl>

        </loginModule>
    </identityManagement>
   
    <sessionCache>
    </sessionCache>

    <httpHeaderRewrites>
        
    </httpHeaderRewrites>

    <api>
        <service category="general" anonymousAccessAllowed="true">
            <name>Get version info</name>
            <doc>
                <![CDATA[
                    Retrieves information about the installed version of the application.
                ]]>
            </doc>
            <method>GET</method>
            <gatewayUrl>/version</gatewayUrl>
            <serviceUrl>/version</serviceUrl>
            <input>
                <doc>
                    <![CDATA[
                        None.
                    ]]>
                </doc>
            </input>
            <output>
                <doc>
                    <![CDATA[
                        [text/plain]
                        version info.
                    ]]>
                </doc>
            </output>
        </service>
         
    <service category="admin" anonymousAccessAllowed="true">
            <name>Get member</name>
            <doc>
                <![CDATA[
                    Retrieves information a member.
                ]]>
            </doc>
            <method>GET</method>
            <gatewayUrl>admin/member</gatewayUrl>
            <serviceUrl>/member</serviceUrl>
            <input>
                <doc>
                    <![CDATA[
                        None.
                    ]]>
                </doc>
            </input>
            <output>
                <doc>
                    <![CDATA[
                        [Application/json]
                        version info.
                    ]]>
                </doc>
            </output>
        </service>   

        <service category="admin" anonymousAccessAllowed="true">
            <name>Create member</name>
            <doc>
                <![CDATA[
                    Retrieves information a member.
                ]]>
            </doc>
            <method>PUT</method>
            <gatewayUrl>/admin/member</gatewayUrl>
            <serviceUrl>/member</serviceUrl>
            <input>
                <doc>
                    <![CDATA[
                        [Application/json]
                        version info.
                    ]]>                
                </doc>
            </input>
            <output>
                <doc>
                    <![CDATA[
                        [Application/json]
                        version info.
                    ]]>
                </doc>
            </output>
        </service>  
        
        <service category="takeoff" anonymousAccessAllowed="true">
            <name>Get member</name>
            <doc>
                <![CDATA[
                    Retrieves information a member.
                ]]>
            </doc>
            <method>GET</method>
            <gatewayUrl>/member</gatewayUrl>
            <serviceUrl>/member/{userid}</serviceUrl>
            <input>
                <doc>
                    <![CDATA[
                        None.
                    ]]>
                </doc>
            </input>
            <output>
                <doc>
                    <![CDATA[
                        [Application/json]
                        version info.
                    ]]>
                </doc>
            </output>
        </service>
        
        <service category="takeoff" anonymousAccessAllowed="true">
            <name>Get intent</name>
            <doc>
                <![CDATA[
                    Retrieves information a member.
                ]]>
            </doc>
            <method>GET</method>
            <gatewayUrl>/intent/{id}</gatewayUrl>
            <serviceUrl>/intent/{userid}/{id}</serviceUrl>
            <input>
                <doc>
                    <![CDATA[
                        None.
                    ]]>
                </doc>
            </input>
            <output>
                <doc>
                    <![CDATA[
                        [Application/json]
                        version info.
                    ]]>
                </doc>
            </output>
        </service>
        
        <service category="takeoff" anonymousAccessAllowed="true">
            <name>Create intent</name>
            <doc>
                <![CDATA[
                    Retrieves information a member.
                ]]>
            </doc>
            <method>POST</method>
            <gatewayUrl>/intent/</gatewayUrl>
            <serviceUrl>/intent/{userid}</serviceUrl>
            <input>
                <doc>
                    <![CDATA[
                        None.
                    ]]>
                </doc>
            </input>
            <output>
                <doc>
                    <![CDATA[
                        [Application/json]
                        version info.
                    ]]>
                </doc>
            </output>
        </service>
        
        <service category="takeoff" anonymousAccessAllowed="true">
            <name>Update intent</name>
            <doc>
                <![CDATA[
                    Retrieves information a member.
                ]]>
            </doc>
            <method>PUT</method>
            <gatewayUrl>/intent/{id}</gatewayUrl>
            <serviceUrl>/intent/{userid}/{id}</serviceUrl>
            <input>
                <doc>
                    <![CDATA[
                        None.
                    ]]>
                </doc>
            </input>
            <output>
                <doc>
                    <![CDATA[
                        [Application/json]
                        version info.
                    ]]>
                </doc>
            </output>
        </service>
        
    </api>

</gateway>
